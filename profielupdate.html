<!DOCTYPE html>
<html lang="nl" />

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Flexidating | Update Profiel</title>

    <!-- STYLE SHEET LINKS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link href="css/_main_css.css" rel="stylesheet" type="text/css" />
    <link href="css/_page_css_profiel.css" rel="stylesheet" type="text/css" />

</head>

<body>
  <div class="clearfix">
    <div id="containerProfiel">
      <form id="wijzig">
          <p><img id="foto" src="" alt="" class="profielfoto"></p>

        <p>
          <label>Nickname</label><input type="text" name="nickname" id="nickname">
        </p>
        <p>
          <label>Voornaam</label><input type="text" name="voornaam" id="voornaam">
        </p>
        <p>
          <label>Familienaam</label><input type="text" name="familienaam" id="familienaam">
        </p>

        <p>
          <label>Beroep</label><input type="text" name="beroep" id="beroep">
        </p>
        <p>
          <label>Email</label><input type="text" name="email" id="email">
        </p>
        <p>
          <label>Geboortedatum </label><input type="text" name="geboorteDatum" id="geboorteDatum">
        </p>
        <p>
          <label>Leeftijd </label><label id="leefTijd"></label>
        </p>
        <p>
          <label>Gewicht</label><input type="text" name="gewicht" id="gewicht">
        </p>
        <p>
          <label>Grootte</label><input type="text" name="grootte" id="grootte">
        </p>
        <p>
          <label>Haarkleur</label>
          <select id="haarkleur" name="haarKleur">
            <option value="blond">blond</option>
            <option value="brunete">brunete</option>
            <option value="rood">rood</option>
            <option value="zwart">zwart</option>
            <option value="andere kleur">andere kleur</option>
          </select>
        </p>
        <p>
          <label>Oogkleur</label>
          <select name="oogkleur" id="oogkleur">
            <option value="blauw">blauw</option>
            <option value="bruin">bruin</option>
            <option value="zwart">zwart</option>
            <option value="groen">groen</option>
            <option value="andere kleur">andere kleur</option>
          </select>
        </p>
        </p>
        <p>
          <label>Geslacht</label>
          <select name="geslacht" id="geslacht">
            <option value="m">man</option>
            <option value="v">vrouw</option>
          </select>
        </p>
        <p>
          <label>Wachtwoord</label><input type="password" name="wachtwoord" id="wachtwoord">
        </p>
        <p>
          <label>Lichaamsbouw </label>
          <select name="lichaamsbouw" id="lichaamsbouw">
            <option value="volslank">volslank</option>
            <option value="atletisch">atletisch</option>
            <option value="slank">slank</option>
            <option value="normaal">normaal</option>
          </select>
        </p>
        <p>
          <label>Provincie</label>
          <select name="provincie" id="provincie">
            <option value="Antwerpen">Antwerpen</option>
            <option value="Limburg">Limburg</option>
            <option value="Oost-Vlaanderen">Oost-Vlaanderen</option>
            <option value="Vlaams-Brabant">Vlaams-Brabant</option>
            <option value="West-Vlaanderen">West-Vlaanderen</option>
            <option value="Henegouwen">Henegouwen</option>
            <option value="Luik">Luik</option>
            <option value="Luxemburg">Luxemburg</option>
            <option value="Namen ">Namen </option>
            <option value="Waals-Brabant">Waals-Brabant</option>

          </select>
        </p>
        <p>
          <label>Stad</label><input type="text" name="stad" id="stad">
        </p>
        <p>
          <label>Taal </label><select name="taal" id="taal">
            <option value="nederlands">nederland</option>
            <option value="frans">frans</option>
            <option value="deuts">deuts</option>
            <option value="engels">engels</option>
          </select>
        </p>
        <button name="knopupdate" id="knopupdate">Update</button>


      </form>
    </div>

    <!-- SCRIPT LINKS -->
    <script src="js/responsive_design.js"> </script>
    <script src="js/sterrenbeeld.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script async src="js/flexi_scrum_2.1.0.min.js"></script>
    <script defer>
      window.onload = function () {
        /*var user = scrumlib.getDatasetById("56cae42a683485281caf5653");*/

        var ca = document.cookie.split('=');
        var user = scrumlib.getDatasetById(ca[1]);

        document.getElementById("nickname").value = user[0].nickname;
        document.getElementById("voornaam").value = user[0].voornaam;
        document.getElementById("familienaam").value = user[0].familienaam;
        document.getElementById("foto").setAttribute('src', 'img/' + user[0].foto);
        document.getElementById("beroep").value = user[0].beroep;
        document.getElementById("email").value = user[0].email;
        document.getElementById("geboorteDatum").value = user[0].geboortedatum;
        //document.getElementById("foto").value = user[0].foto;

        document.getElementById("leefTijd").innerHTML = getLeeftijd(user[0].geboortedatum);
        document.getElementById("gewicht").value = user[0].gewicht;
        document.getElementById("grootte").value = user[0].grootte;
        document.getElementById("haarkleur").selectedIndex = getInformatie(user[0].haarkleur, "haarkleur");
        document.getElementById("oogkleur").selectedIndex = getInformatie(user[0].oogkleur, "oogkleur");
        document.getElementById("geslacht").selectedIndex = getInformatie(user[0].sexe, "geslacht");
        document.getElementById("wachtwoord").value = user[0].wachtwoord;
        document.getElementById("provincie").value = getInformatie(user[0].provincie, "provincie");
        document.getElementById("stad").value = user[0].stad;
        document.getElementById("taal").selectedIndex = getInformatie(user[0].taal, "taal");


        function getLeeftijd(gb) {
          let y = gb.substring(0, 4);
          let d = new Date().getFullYear();

          return d - y;
        }


        function getInformatie(gG, type) {
          var info = document.getElementById(type);
          for (var i = 0; i < info.length; i++) {
            if (gG == info.options[i].value) {
              return i;
            }
          }
        }
        var updateMap = {};
        button1 = document.getElementById("knopupdate");
        button1.addEventListener("click", function (e) {
          updateMap.nickname = document.getElementById("nickname").value;
          updateMap.voornaam = document.getElementById("voornaam").value;
          updateMap.familienaam = document.getElementById("familienaam").value;
          updateMap.foto = document.getElementById("foto").getAttribute('alt');
          updateMap.beroep = document.getElementById("beroep").value;
          updateMap.email = document.getElementById("email").value;
          updateMap.geboortedatum = document.getElementById("geboorteDatum").value;
          updateMap.gewicht = document.getElementById("gewicht").value;
          updateMap.grootte = document.getElementById("grootte").value;
          var ehaarkleur = document.getElementById('haarkleur');
          updateMap.haarkleur = ehaarkleur.options[ehaarkleur.selectedIndex].value;
          var eoogkleur = document.getElementById('oogkleur');
          updateMap.oogkleur = eoogkleur.options[eoogkleur.selectedIndex].value;
          var egeslacht = document.getElementById('geslacht');
          updateMap.geslacht = egeslacht.options[egeslacht.selectedIndex].value;
          updateMap.wachtwoord = document.getElementById("wachtwoord").value;
          updateMap.provincie = document.getElementById("provincie").selectedIndex;
          updateMap.stad = document.getElementById("stad").value;
          scrumlib.updateDataset(ca[1], updateMap);
          scrumlib.save();

        })

      }
    </script>
  </div>
</body>
</html>