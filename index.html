<!DOCTYPE html>
<html lang="en" />
<link href="css/main_css.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script async src="js/flexi_scrum_2.1.0.min.js"></script>
<script src="js/responsive_design.js"> </script>

<link href="css/footer.css" rel="stylesheet" type="text/css" />

<!-- index.html -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Flexidating</title>
</head>

<body>
    <div class="clearfix">
        <div class="login clear">
            <div class="box responsive">
                <div class="image-box responsive">
                    <div class="image-text">
                        <h1>FLEXIDATING</h1>
                    </div>
                </div>
            </div>
        </div>

        <header>
            <nav class="topmenu" id="responseMenu1">
                <ul>
                    <li><a href="index.html">home</a></li>
                    <li><a href="zoeken.html">zoeken</a></li>
                    <li><a href="persoonlijkepagina.html">persoonlijke pagina</a></li>
                    <li><a href="login.html">login</a></li>
                    <li><a href="registratie.html">registreer</a></li>
                    <li class="icon"><a href="javascript:void(0);" onclick="responsiveMenu()"><i class="fa fa-bars"></i></a></li>
                </ul>
            </nav>
        </header>

        <section>
            <div class="clearfix">
                <h1>Ontdek enkele van onze vrijgezellen!</h1>
                <br>
                <h3 class="randomProfiel">Mannen</h3>
                <div id="galleryMan">
                    <div class="kopjes"><img src="img/bram.png" />
                    </div>

                </div>
                <br>
                <h3 class="randomProfiel">Vrouwen</h3>
                <div id="galleryVrouw">

                </div>
        </section>
        <footer>
            <div class="footerLinks">
                &#169 2018 Copyright Scrum Team. Alle rechten voorbehouden.<br />
                <small>imagecredits: designed by www.freepik.com</small>
            </div>
            <div class="footerRechts">
                <div class="menu">
                    <ul>
                        <li><a href="contact.html">contact</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                    </ul>
                </div>
            </div>
        </footer>
    </div>
     <script defer>
                    scrumlib.addProperty("favorite", "String", "");
    scrumlib.addProperty("provincie", "String", "");
    scrumlib.save();

        window.onload = function () {
             var searchMap = {};
            var conditions = [];
            var egeslacht = ['m', 'v'];
            var usersV = [];
            var usersM = [];
            var alGekozen = [];

            for (let index = 0; index < egeslacht.length; index++) {
                conditions.push(['sexe', '=']);

                searchMap["sexe"] = {
                    "waarde": egeslacht[index],
                    "match": "="
                }

                let tempUsers = scrumlib.getDatasetsByConditions(searchMap);

                if (egeslacht[index] == "m") {
                    usersM = tempUsers;
                    createUsers(usersM, egeslacht[index]);
                } else {
                    usersV = tempUsers;
                    createUsers(usersV, egeslacht[index]);
                }

            }




            function createUsers(users, geslacht) {
                //console.log(users[0]);
                var container = null;

                if (geslacht == "m") {
                    container = document.getElementById("galleryMan");
                } else {
                    container = document.getElementById("galleryVrouw");
                }
                container.innerHTML = "";
                users = shuffle(users)
                for (let index = 0; index < 3; index++) {

                    randUser = users[index];
                    var div = document.createElement("div");
                    //legen

                    var divInfoKopjes = document.createElement("div");
                    div.setAttribute('class', "kopjes");
                    divInfoKopjes.setAttribute('class', "infokopjes");
                    var pImg = document.createElement('a');
                    pImg.setAttribute('href', "public.html?" + randUser._id);
                    pImg.setAttribute('id', randUser._id);
                    var img = document.createElement("img");
                    img.setAttribute('src', "img/" + randUser.foto);

                    var pNickname = document.createElement('a');
                    pNickname.setAttribute('class', "userInfo nickname");
                    pNickname.setAttribute('href', "public.html?" + randUser._id);
                    pNickname.setAttribute('id', randUser._id);
                    pNickname.innerHTML = randUser.nickname
                    var pLeeftijd = document.createElement('p');
                    pLeeftijd.setAttribute('class', "userInfo leeftijd");

                    let y = randUser.geboortedatum.substring(0, 4);
                    let LeefTijd = new Date().getFullYear() - y;
                    pLeeftijd.innerHTML = LeefTijd + "jaar";

                    var pStad = document.createElement('p');
                    pStad.setAttribute('class', "userInfo stad");
                    pStad.innerHTML = randUser.haarkleur;


                    div.appendChild(pImg);
                    pImg.appendChild(img);
                    divInfoKopjes.appendChild(pNickname);
                    divInfoKopjes.appendChild(pLeeftijd);
                    divInfoKopjes.appendChild(pStad);
                    div.appendChild(divInfoKopjes);

                    container.appendChild(div);

                }
            }
        }



        function fieldisleeg(field) {
            if (field === "") {
                return true;
            } else {
                return false;
            }
        }

        function shuffle(a) {
            var j, x, i;
            for (i = a.length - 1; i > 0; i--) {
                j = Math.floor(Math.random() * (i + 1));
                x = a[i];
                a[i] = a[j];
                a[j] = x;
            }
            return a;
        }
    </script>
</body>

</html>